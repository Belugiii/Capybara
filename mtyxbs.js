// cron: 20 7 * * *
// new Env('美团优选步数领取');

var unirest = require('unirest');
var req = unirest('POST', 'https://bi-mall.meituan.com/api/c/game/walk/uploadUserSteps?uuid=18848c59a76c8-1a47957cb3ef8d-0-505c8-18848c59a76c8&utm_medium=wxapp&brand=meituanyouxuan&tenantId=1&utm_term=5.142.7&device_model=iPhone%2012%3CiPhone13%2C2%3E&optimus_risk_level=71&optimus_code=10&poiIdStr=WulqvwWZSWMgpZABOHBrjgE&poi=0&stockPois=0&ci=140&bizId=4&fp_user_id=244590252&fp_open_id_cipher=AwQAAABJAgAAAAEAAAAyAAAAPLgC95WH3MyqngAoyM%2Fhf1hEoKrGdo0pJ5DI44e1wGF9AT3PH7Wes03actC2n%2FGVnwfURonD78PewMUppAAAADhEYIdSfivTuoavywmDHwm9D%2Fm2nLZr%2FELvkmMuHQJQ9%2F9PTEjdnU1b%2BEDevLTBmdVn9xcjhxvQXg%3D%3D&openId=oRRr90Pfh7mO5Vp4RUTWyxXY0Rgk&unionId=oNQu9t_H5V42JVkDszofncO7qFGo&superId=A2-A3-A2-A4-A2-A4-A2-A4&routeId=pages%2FuserCenter%2Findex%2CsubPackages%2Fmarketing%2Fsteps%2Fpages%2Findex%2Findex&sysName=iOS&sysVerion=16.0&app_tag=youxuan')
  .headers({
    'Host': 'bi-mall.meituan.com',
    'Connection': 'keep-alive',
    'Content-Length': '3722',
    't': 'AgF2Je00uarCey5F9fgnAVpwc2Dd2B04bzxPu1lU1DfSOjXOmcYPPbmw_n-JRllNtWOzhE92Z7dNxAAAAACWGAAAEIqR8HFq3LzcJ3A1-cMysD2K7LNT_trrAY2QDDVOFZnSkZs28KtRJ-m1_JTT8gD4',
    'content-type': 'application/json',
    'mtgsig': '{"a1":"1.2","a2":1685536439282,"a3":"2wv05764x8y759w4y9659z08x59v4zxw81151x40w8187978zz65vx75","a4":"c8342cc5fe7c112dc52c34c82d117cfe37d7f8b91ac68447","a5":"dPAwbfQQrt4lAO6UWwJD86t1y7k+YRtGljqzcU1sNVc7eu5yVyzfiK++Qr2VxZXX3AbU6P2dyJOJnTST0qJ+G4IC4H4qJP8hogYOmCybtFubXtJc9PTPpeO/NQCSLSJKwZjHUSEgEANmP/wa3es9h6oY1BVGt8Ri73W6FfFvZcf6Y0bmyNxQyobIN/mclHLIJ9udNSHFnwhDDi2Z2vno4KdNSsHRcYm8Wj6DP11QxEA46Fhd2+KgTix0C0vn0MWDMUSelvCK+/4dOz43CUZ6rm5kaNE90g3nlpbG1yx7EPkb","a6":"w1.2jx5tXiBuzbhNCJ5WHCWmo/tuJK+nHVOoMoqMen4V7JtlxPAqEcBT5tF30+bfly/7busaAN8oJB3UBfUchWVXciphI+ANSo5ECqTUjereCec+PlN4FG22WkDCSqhPsIEQu16OuXGbjB3x67a9NyZ8IG3ECZs36GEGqNYkgZ7e4+dhjP1wvX1H+LUzgt+BgU2Dqgc5uWE0hm+4LKqi6LiyDNyqibYWsjOsH4NF2wDHbxm3MxgHjwvJz3qVY7/0QouLOB80Q0dqjo25XGv0CjKogwZaBnI1mrR97G+iTvqbF+jogEw1S9DLYnk3XH7YGlqB4QfPTgNgjp76DUuAEZRLs6vpn4Eq3bbzuh7XjUbUYIH3kkG0e8mMIyfykfFwx5q97RnGRtgJMxeZT+uVM8/B19m5hs+H/sr86ynJE9VJFFQXra6gXP0E7OMXqZF8Wi4LyHAH8lm7cpDqJtWMJrozpo6ez0Sj/EQWYb2ag7R1IUcF08oygUhtFMsSf2zx9Fu3YSi47D+5FsUexC7KDClp0GmqtK2KfiD05CA4MC6no3jjQnCJWOfiaysBWpRf+d7NRg1YfrjvQC3wKsezWSPxSG4NMLf31ez3iMTNsc503+zqLJaW3QS5wfYwcTziNI4sHGykqHGMLJp7HccIig/nXF8gOEgNS99DUOhYlDMQC3BQY6r4BVfGCaEBYeVPCK6r0MUi2LJbSmcw+SDBjlwzAA==","a7":"wx77af438b3505c00e","x0":3,"d1":"213c0ede51715768470c6de77caf960a"}',
    'Accept-Encoding': 'gzip,compress,br,deflate',
    'User-Agent': 'Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148 MicroMessenger/8.0.28(0x18001c2e) NetType/WIFI Language/zh_CN',
    'Referer': 'https://servicewechat.com/wx77af438b3505c00e/1054/page-frame.html'
  })
  .send(JSON.stringify({
    "userStepCount": 23761,
    "code": 100,
    "riskCheckModel": {
      "uuid": "18848c59a76c8-1a47957cb3ef8d-0-505c8-18848c59a76c8",
      "platform": 13,
      "appletsFingerprint": "WX__ver1.2.0_CCCC_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",
      "fingerprint": "",
      "wxRiskLevel": "{\"openId\":\"oRRr90Pfh7mO5Vp4RUTWyxXY0Rgk\",\"appId\":\"wx77af438b3505c00e\",\"mchid\":\"1399386702\"}"
    }
  }))
  .end(function (res) { 
    if (res.error) throw new Error(res.error); 
    console.log(res.raw_body);
  });
